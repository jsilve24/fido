# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: r
cache: packages

r:
  - release

os: 
  - osx
  - linux
  
osx_image: xcode13.2

# warnings_are_errors: false


# Packages to install from specific sources other than CRAN   
bioc_required: true
bioc_packages:
  - phyloseq
  
# Linus System dependencies:
apt_packages:
  - libgsl0-dev

# Github packages:
r_github_packages:
  - jsilve24/driver
  - twbattaglia/MicrobeDS
  
# Increase build time-out time - because of long package vignette built times

script:
  - R CMD build --no-build-vignettes .
  - R CMD check --no-vignettes *.tar.gz
# - R CMD check *.tar.gz
    
after_failure:
  find *Rcheck -name '*.fail' -print -exec cat '{}' \;